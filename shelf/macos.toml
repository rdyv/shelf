# Shelf Configuration - macOS
# ============================================================================
# Backup Settings
# ============================================================================
[backup]
# Where backups are stored (will be set on first backup if not specified)
path = ""

# Global ignore patterns (merged with provider-specific patterns)
ignore_patterns = [
    "*.log",
    "*.mdb",
    "*.db",
    "*.tmp",
    "node_modules/",
    "target/",
    "dist/",
    "build/",
    "*.exe",
    "*.so",
    "*.dylib",
]

# ============================================================================
# Git Settings
# ============================================================================
[git]
# Enable git versioning
enabled = true

# Automatically commit after backup
auto_commit = true

# Automatically push to remote after commit
auto_push = false

# Commit message template (supports: {timestamp}, {date}, {time})
commit_message = "Backup: {timestamp}"

# Branch to use
branch = "main"

# ============================================================================
# Provider: Files & Directories
# ============================================================================
[providers.files]
enabled = true

# Subdirectory within backup path for this provider's files
subdirectory = "backup/macos"

# Paths to backup (files and directories - auto-detected)
paths = [
    "~/.zshrc",
    "~/.zprofile",
    "~/.npmrc",
    "~/.yarnrc",
    "~/.vimrc",
    "~/.config/nvim/init.lua",
    "~/.gitconfig",
    "~/.zsh_history",
    "~/.psql_history",
    "~/.node_repl_history",
    "~/.duckdb_history",
    "~/.clickhouse-client-history",
    "~/.ssh/config",
    "~/.ssh/known_hosts",
    "~/.config/alacritty",
    "~/.config/direnv",
    "~/.config/fish",
    "~/.config/gh",
    "~/.config/ghostty",
    "~/.config/git",
    "~/.config/iterm2",
    "~/.config/karabiner",
    "~/.config/kitty",
    "~/.config/nvim",
    "~/.config/tmux",
    "~/.config/zellij",
    "~/.config/htop",
    "~/.config/wireshark",
    "~/.gnupg",
    "~/Library/Preferences/com.apple.dock.plist",
    "~/Library/Preferences/com.apple.finder.plist",
    "~/Library/Preferences/com.apple.Terminal.plist",
    "~/Library/Preferences/com.apple.systempreferences.plist",
    "~/Library/Preferences/com.apple.Safari.plist",
    "~/Library/Preferences/com.apple.controlcenter.plist",
    "~/Library/Preferences/com.apple.MenuMeters.plist",
    "~/Library/Preferences/com.apple.screencapture.plist",
    "~/Library/Preferences/com.apple.desktopservices.plist",
    "~/Library/LaunchAgents",
]

# Recursive backups: scan parent directories for specific subdirectories
# [providers.files.recursive]
# "~/Developer/github" = ["_scripts", ".github", "config"]
# "~/Developer/projects" = ["scripts", "docs"]

# ============================================================================
# Provider: Homebrew (macOS only)
# ============================================================================
[providers.homebrew]
enabled = true

# Subdirectory within backup path for this provider's files
subdirectory = "backup/macos"

# Generate Brewfile
brewfile = true

# Backup installed formulas list
formulas = true

# Backup installed casks list
casks = true

# Backup running services
services = true

# Backup configured taps
taps = true

# ============================================================================
# Provider: Fonts
# ============================================================================
[providers.fonts]
enabled = true

# Subdirectory within backup path for this provider's files
subdirectory = "backup/macos"

# Only backup custom fonts (not system fonts)
custom_fonts_only = true

# Backup system fonts too (may be large)
system_fonts = false
